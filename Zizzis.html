<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Zizzi Bill Splitter</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 700px;
        margin: 20px auto;
        padding: 20px;
        background-color: #f9f9f9;
        border-radius: 8px;
      }
      h2 {
        text-align: center;
      }
      .item {
        display: flex;
        justify-content: space-between;
        padding: 6px 8px;
        background-color: #fff;
        border-bottom: 1px solid #ccc;
      }
      .item input {
        margin-right: 10px;
      }
      #totals {
        margin-top: 20px;
        font-size: 1.1em;
        text-align: center;
      }
      #totals div {
        margin: 5px 0;
      }
      button {
        display: block;
        margin: 20px auto;
        padding: 10px 20px;
        font-size: 1em;
        background-color: #0077cc;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      textarea {
        width: 100%;
        height: 100px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <h2>Zizzi Bill Splitter</h2>

    <div id="items"></div>

    <div id="totals">
      <div>Subtotal: <strong>Â£0.00</strong></div>
      <div>Tip (10%): <strong>Â£0.00</strong></div>
      <div>Total to Pay: <strong>Â£0.00</strong></div>
    </div>

    <button onclick="calculateTotal()">Calculate</button>

    <textarea id="summary" placeholder="Your summary will appear here..."></textarea>
    <button onclick="copySummary()">ðŸ“‹ Copy to Clipboard</button>
    <button onclick="sendWhatsApp()">ðŸ’¬ Send via WhatsApp</button>

    <script>
      const items = [
        { name: "Rustica Pinoli", price: 17.45 },
        { name: "Rustica Pepperoni Campagn", price: 17.95 },
        { name: "Calzone Carne Piccante", price: 17.45 },
        { name: "Calzone Carne Piccante", price: 17.45 },
        { name: "Chips", price: 4.95 },
        { name: "Tuscan G&T", price: 10.95 },
        { name: "Tuscan G&T", price: 10.95 },
        { name: "Pina Colada", price: 12.45 },
        { name: "Appletiser", price: 3.95 },
        { name: "Diet Coke", price: 3.95 },
        { name: "Sprite", price: 3.95 },
        { name: "Sprite", price: 3.95 },
        { name: "Black Americano", price: 3.45 },
        { name: "Peroni 660ml", price: 7.25 },
        { name: "Pepperoni Campagna", price: 15.95 },
        { name: "Classic Margherita", price: 13.95 },
        { name: "Classic Margherita", price: 13.95 },
        { name: "Pondodoro", price: 15.25 },
        { name: "Pondodoro", price: 15.25 },
        { name: "Lasagna - Go All Out", price: 20.95 },
        { name: "Truffle Carbonara", price: 19.75 },
        { name: "Passion Fruit Sparkler", price: 5.95 },
        { name: "Passion Fruit Sparkler", price: 5.95 },
        { name: "Raspberry & Mint Softail", price: 5.95 },
        { name: "Pollo & Pesto Fresca Pizza", price: 16.75 },
        { name: "Pollo & Pesto Fresca Pizza", price: 16.75 }
      ];

      function renderItems() {
        const container = document.getElementById("items");
        items.forEach((item, index) => {
          const div = document.createElement("div");
          div.className = "item";
          div.innerHTML = `
            <label><input type="checkbox" value="${index}"> ${item.name}</label>
            <span>Â£${item.price.toFixed(2)}</span>
          `;
          container.appendChild(div);
        });
      }

      function calculateTotal() {
        const selected = Array.from(document.querySelectorAll("input[type=checkbox]:checked")).map(
          (cb) => items[cb.value]
        );

        if (selected.length === 0) {
          alert("Please select at least one item!");
          return;
        }

        const subtotal = selected.reduce((acc, item) => acc + item.price, 0);
        const tip = subtotal * 0.1;
        const total = subtotal + tip;

        document.querySelector("#totals div:nth-child(1) strong").innerText = `Â£${subtotal.toFixed(2)}`;
        document.querySelector("#totals div:nth-child(2) strong").innerText = `Â£${tip.toFixed(2)}`;
        document.querySelector("#totals div:nth-child(3) strong").innerText = `Â£${total.toFixed(2)}`;

        const summary =
          `Hey! Based on what I selected (${selected.map((i) => i.name).join(", ")}),\n` +
          `Subtotal: Â£${subtotal.toFixed(2)}\nTip (10%): Â£${tip.toFixed(2)}\n` +
          `Total to pay: Â£${total.toFixed(2)}\nThanks! ðŸ˜Š`;

        document.getElementById("summary").value = summary;
      }

      function copySummary() {
        const summary = document.getElementById("summary");
        summary.select();
        document.execCommand("copy");
        alert("Summary copied to clipboard! ðŸ“‹");
      }

      function sendWhatsApp() {
        const summary = document.getElementById("summary").value;
        if (!summary.trim()) {
          alert("Please calculate your total first!");
          return;
        }
        const encoded = encodeURIComponent(summary);
        const yourNumber = "447123456789"; // ðŸ‘ˆ Replace with your WhatsApp number
        const waLink = `https://wa.me/${yourNumber}?text=${encoded}`;
        window.open(waLink, "_blank");
      }

      renderItems();
    </script>
  </body>
</html>
